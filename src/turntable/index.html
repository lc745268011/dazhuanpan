<!doctype html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!--声明文档的兼容模式-->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <!--移动设备-->
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta name="viewport"
          content="width=device-width,height=device-height,inital-scale=1.0,maximum-scale=1.0,user-scalable=no;">
    <link rel="stylesheet" type="text/css" href="../res/css/reset.css"/>
    <link rel="stylesheet" type="text/css" href="../res/css/turntable.css"/>
    <link rel="stylesheet" type="text/css" href="../res/css/need/layer.css">
    <script src="../res/js/jquery-1.10.2.js"></script>
    <script src="../res/js/layer.js"></script>
</head>
<body>
<div class="watch">预览模式</div>
<div class="banner-top"><img src="../res/images/banner.jpg" alt=""/></div>
<div class="htmleaf-container">
    <div id="lottery">
        <table border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td class="lottery-unit lottery-unit-0"><span>一等奖</span>

                    <div class="mask"></div>
                </td>
                <td class="lottery-unit lottery-unit-1"><span>二等奖</span>

                    <div class="mask"></div>
                </td>
                <td class="lottery-unit lottery-unit-2"><span>三等奖</span>

                    <div class="mask"></div>
                </td>
            </tr>
            <tr>
                <td class="lottery-unit lottery-unit-7"><span>谢谢参与</span>

                    <div class="mask"></div>
                </td>
                <td class="lottery-center"><a href="#"></a></td>
                <td class="lottery-unit lottery-unit-3"><span>谢谢参与</span>

                    <div class="mask"></div>
                </td>
            </tr>
            <tr>
                <td class="lottery-unit lottery-unit-6"><span>四等奖</span>

                    <div class="mask"></div>
                </td>
                <td class="lottery-unit lottery-unit-5"><span>五等奖</span>

                    <div class="mask"></div>
                </td>
                <td class="lottery-unit lottery-unit-4"><span>六等奖</span>

                    <div class="mask"></div>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="record_list">
    <img src="../res/images/record.png" alt=""/>

    <div>
        <ul id="scrollobj" style="white-space:nowrap;overflow:hidden;height:1.5rem;margin: auto;">
            <li><a>恭喜XXX获得一等奖</a></li>
            <li><a>恭喜XXX获得一等奖</a></li>
            <li><a>恭喜XXX获得一等奖</a></li>
            <li><a>恭喜XXX获得一等奖</a></li>
            <li><a>恭喜XXX获得一等奖</a></li>
            <li><a>恭喜XXX获得一等奖</a></li>
            <li><a>恭喜XXX获得一等奖</a></li>
            <li><a>恭喜XXX获得一等奖</a></li>
            <li><a>恭喜XXX获得一等奖</a></li>
            <li><a>恭喜XXX获得一等奖</a></li>
        </ul>
        <script>
            function scroll(obj) {
                var tmp = (obj.scrollTop)++;
                //当滚动条到达右边顶端时
                if (obj.scrollTop==tmp) obj.innerHTML += obj.innerHTML;
                //当滚动条滚动了初始内容的宽度时滚动条回到最左端
                if (obj.scrollTop>=obj.firstChild.offsetHeight) obj.scrollTop=0;
            }
            var a =    setInterval("scroll(document.getElementById('scrollobj'))",20);
            function stop(){
                clearInterval(a);
            }
            function start(){
                a=setInterval("scroll(document.getElementById('scrollobj'))",30);
            }
        </script>
    </div>
</div>
<div class="rule">
    <img src="../res/images/rule-title1.png" alt="" class="rule-title"/>

    <div class="rule_con">
        <p>
            <span>1、获赠的产品抵用券请登录太平洋保险生活广场 http://www.601601.com/，进入指定页面购买抵用（需先注册激活），此抵用券不兑换现金、抵用券部分不开发票，购买产生快递费用请自行承担，使用过程中如有任何问题，请致电主办方客服热线： 4006595500转6 （周一至周五 8:30-17:30）；&nbsp;</span><br/><span>2、车险免单奖品为4999元太平洋车险保单（私家车），可包括：机动车交通事故责任强制保险、车辆损失险（不计免赔），第三者责任险50万元（不计免赔）、车上人员责任险（1万元每座）、车辆涉水险等5项。其它投保险种/条款、保险金额的增加由中奖用户自理；&nbsp;</span><br/><span>3、车险免单中奖者需要在1年之内（即从中奖之日起）通过 www.10108888.com.cn 网上全流程购买1年相关车险；车险免单中奖者如未通过 www.10108888.com.cn 网上投保、提供资料不真实、不齐全等，则视为中奖者自动放弃该奖项；&nbsp;</span><br/><span>4、车险免单中奖者兑奖时需提供所购买的车险发票复印件、身份证复印件、保单复印件、行驶证（必须与注册时车型、车牌号、车辆购置年月一致）复印件、银行账户（银行账户户主名字须与中奖者姓名一致）；&nbsp;</span><br/><span>5、所有获奖名单将在 www.10108888.com.cn、官方微信【太平洋保险e服务】上公布，或将电话或邮件形式通知中奖者，敬请关注；&nbsp;</span><br/><span>6、凡参加活动者，即视为同意接受本活动规则及奖品领取规则的所有条款，如有任何舞弊、欺诈、用户信息不真实等情形，主办方有权取消参与者参加活动的资格，并保留不另行通 知或采取其他相应法律措施的权利。&nbsp;</span><br/><span>7、活动主办方有权依据相关法律法规或业务需要，中止或取消此次活动或者修改活动方案，经相关途径公告后生效；&nbsp;</span><br/><span>8、主办方及承办方电话：&nbsp;</span><br/><span>太平洋直销车险：10108888&nbsp;</span><br/><span>太平洋保险在线商城客服电话：4006595500&nbsp;</span><br/><span>上海新网迈广告传媒有限公司：021-54657676-618&nbsp;</span><br/><span>9、所有活动参与者请仔细甄别活动信息来源和渠道，谨防不法分子利用本活动所发出的虚假、诈骗信息。活动参与者因轻信不法分子虚假、诈骗信息所受到的损失与活动主办方及承办方无关。&nbsp;</span><br/><span>10、凡用户个人资料，我们将其做个人隐私保护，并承诺不泄露于其他机构；&nbsp;</span><br/><span>11、本次活动解释权归太平洋保险在线服务科技有限公司所有；&nbsp;</span><br/><span>12.港澳台、福建(不含厦门)、安徽、苏州、广西、湖北、大连、海南地区不参加此次活动。</span>
        </p>
    </div>
</div>
<script src="http://cdn.bootcss.com/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="js/jquery-1.11.0.min.js"><\/script>')</script>
<script type="text/javascript">
    (function (doc, win) {
                var docEl = doc.documentElement,
                        resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
                        recalc = function () {
                            var clientWidth = docEl.clientWidth;
                            if (!clientWidth) return;
                            docEl.style.fontSize = 100 * (clientWidth / 750) + 'px';
                        };
                if (!doc.addEventListener) return;
                win.addEventListener(resizeEvt, recalc, false);
                doc.addEventListener('DOMContentLoaded', recalc, false);
            })(document, window);
    var lottery = {
        index: -1,    //当前转动到哪个位置，起点位置
        count: 0,    //总共有多少个位置
        timer: 0,    //setTimeout的ID，用clearTimeout清除
        speed: 20,    //初始转动速度
        times: 0,    //转动次数
        cycle: 50,    //转动基本次数：即至少需要转动多少次再进入抽奖环节
        prize: -1,    //中奖位置
        init: function (id) {
            if ($("#" + id).find(".lottery-unit").length > 0) {
                $lottery = $("#" + id);
                $units = $lottery.find(".lottery-unit");
                this.obj = $lottery;
                this.count = $units.length;
                $lottery.find(".lottery-unit-" + this.index).addClass("active");
            }
            ;
        },
        roll: function () {
            var index = this.index;
            var count = this.count;
            var lottery = this.obj;
            $(lottery).find(".lottery-unit-" + index).removeClass("active");
            index += 1;
            if (index > count - 1) {
                index = 0;
            }
            ;
            $(lottery).find(".lottery-unit-" + index).addClass("active");
            this.index = index;
            return false;
        },
        stop: function (index) {
            this.prize = index;
            return false;
        }
    };

    function roll() {
        lottery.times += 1;
        lottery.roll();//转动过程调用的是lottery的roll方法，这里是第一次调用初始化
        if (lottery.times > lottery.cycle + 10 && lottery.prize == lottery.index) {
            $("#lottery").css({'background':'url("../res/images/bg1.png") 100% 100% no-repeat','background-size':'cover'})
            layer.open({
                content: '<img src="../res/images/congratulate.png" style="width: 0.55rem;margin-right: 0.2rem"/>恭喜你获得'+$('.lottery-unit-' + lottery.prize + ' span').text(),
                style: 'width:80%',
                btn:['前去领取','取消']
                ,shadeClose:false
                ,yes: function(index, layero){
                    layer.open({
                        className: 'alert',
                        content: '<div class="form">' +
                        '<div class="cl"><label for="tel">手机号</label><input type="num" id="tel"/></div>' +
                        '<div class="cl"><label for="work_id">工号</label><input type="num" id="work_id"/></div>' +
                        '<div class="cl"><label for="code">校验码</label><input type="num" id="code"/><button>获取校验码</button></div>' +
                        '</div>',
                        title:['恭喜你','background-color: #fc5566; color:#fff;height:40px;line-height: 40px;'],
                        style: 'width:80%',
                        btn:['确认','取消'],
                        shadeClose:false,
                        yes:function(index,layero){
                            layer.open({
                                content: '恭喜你领取成功'
                                ,skin: 'msg'
                                ,time: 2 //2秒后自动关闭
                            })
                        }
                    })
                }
                ,btn2: function(index, layero){
                    layer.closeAll();
                }
            });
            clearTimeout(lottery.timer);
            lottery.prize = -1;
            lottery.times = 0;
            click = false;
        } else {
            if (lottery.times < lottery.cycle) {
                lottery.speed -= 10;
            } else if (lottery.times == lottery.cycle) {
                var index = Math.random() * (lottery.count) | 0;//中奖物品通过一个随机数生成
                lottery.prize = index;
            } else {
                if (lottery.times > lottery.cycle + 10 && ((lottery.prize == 0 && lottery.index == 7) || lottery.prize == lottery.index + 1)) {
                    lottery.speed += 110;
                } else {
                    lottery.speed += 20;
                }
            }
            if (lottery.speed < 40) {
                lottery.speed = 40;
            }
            ;
            //console.log(lottery.times+'^^^^^^'+lottery.speed+'^^^^^^^'+lottery.prize);
            lottery.timer = setTimeout(roll, lottery.speed);//循环调用
        }
        return false;
    }

    var click = false;

    window.onload = function () {
        lottery.init('lottery');
        $("#lottery a").click(function () {
            $("#lottery").css({'background':'url("../res/images/run.gif") 100% 100% no-repeat','background-size':'cover'})
            if (click) {//click控制一次抽奖过程中不能重复点击抽奖按钮，后面的点击不响应
                return false;
            } else {
                lottery.speed = 100;
                roll();    //转圈过程不响应click事件，会将click置为false
                click = true; //一次抽奖完成后，设置click为true，可继续抽奖
                return false;
            }
        });
    };
</script>
</body>
</html>